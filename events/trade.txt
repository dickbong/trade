###########################
# Trade Events
###########################

add_namespace = trade

country_event = { #re-evaluate trade relationship
	id = trade.1
	title = trade.1.title
	desc = trade.1.desc
	trigger = {	
		any_country = {
			has_opinion = { target = PREV value < -10 }
			NOT = {
				has_opinion_modifier = embargo
				has_opinion_modifier = sanctions
				has_opinion_modifier = minor_sanctions
			}
			NOT = {
				tag = ROOT
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		random_country = {
			limit = { 
				has_opinion = { target = PREV value < -10 } 
				NOT = { tag = ROOT }
				NOT = {
					has_opinion_modifier = embargo
					has_opinion_modifier = sanctions
					has_opinion_modifier = minor_sanctions
				}
			}
			save_event_target_as = trade_target
		}
	}

	option = {
		name = trade.1.minorsanctions
		ROOT = {
			add_opinion_modifier = { target = event_target:trade_target modifier = minor_sanctions }	
		}
		add_opinion_modifier = { target = ROOT modifier = relation_minor_sanctions }
		country_event = { id = trade.2 }
	}

	option = {
		name = trade.1.sanctions
		ROOT = {
			add_opinion_modifier = { target = event_target:trade_target modifier = sanctions }
		}
		add_opinion_modifier = { target = ROOT modifier = relation_sanctions }
		country_event = { id = trade.2 }
	}

	option = {
		name = trade.1.embargo
		ROOT = {
			add_opinion_modifier = { target = event_target:trade_target modifier = embargo }	
		}
		add_opinion_modifier = { target = ROOT modifier = relation_embargo }
		country_event = { id = trade.2 }
	}

	option = {
		name = trade.1.squo
	}
}

country_event = { #from has sanctioned us
	id = trade.2
	title = trade.2.title
	desc = trade.2.desc
	is_triggered_only = yes

	option = {
		name = trade.2.a	
	}
}