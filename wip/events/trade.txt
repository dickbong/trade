###########################
# Trade Events
###########################

add_namespace = trade

country_event = {
	id = trade.italy
	hidden = yes
	is_triggered_only = yes
	
	immediate = {
		ITA = {
			save_event_target_as = trade_target	
		}
		country_event = { id = trade.1 }
	}
}

country_event = { #re-evaluate trade relationship
	id = trade.1
	title = trade.1.title
	desc = trade.1.desc
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = trade.1.minorsanctions
		add_opinion_modifier = { target = event_target:trade_target modifier = minor_sanctions }
		event_target:trade_target = { add_opinion_modifier = { target = ROOT modifier = relation_minor_sanctions } }	
		hidden_effect = {
			event_target:trade_target = {
				country_event = { id = trade.2 }
			}
		}
	}

	option = {
		name = trade.1.sanctions
		add_opinion_modifier = { target = event_target:trade_target modifier = sanctions }
		event_target:trade_target = { add_opinion_modifier = { target = ROOT modifier = relation_sanctions } }
		hidden_effect = {
			event_target:trade_target = {
				country_event = { id = trade.3 }
			}
		}
	}

	option = {
		name = trade.1.embargo
		add_opinion_modifier = { target = event_target:trade_target modifier = embargo }	
		event_target:trade_target = { add_opinion_modifier = { target = ROOT modifier = relation_embargo } }
		hidden_effect = {
			event_target:trade_target = {
				country_event = { id = trade.4 }
			}
		}
	}

	option = {
		name = trade.1.squo
		ai_chance = {
			base = 50
		}
	}
}

country_event = { #from has put light sanctions on us
	id = trade.2
	title = trade.2.title
	desc = trade.2.desc
	is_triggered_only = yes

	option = {
		name = trade.2.a
	}
}

country_event = { #from has sanctioned us
	id = trade.3
	title = trade.3.title
	desc = trade.3.desc
	is_triggered_only = yes

	option = {
		name = trade.2.a
	}
}

country_event = { #from has embargoed us !!!
	id = trade.4
	title = trade.4.title
	desc = trade.4.desc
	is_triggered_only = yes

	option = {
		name = trade.2.a
	}
}

country_event = { #re-evaluate trade relationship, take off sanctions
	id = trade.5
	title = trade.5.title
	desc = trade.5.desc
	is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = trade.5.minorsanctions
		trigger = { event_target:trade_target = { has_opinion_modifier = minor_sanctions } }
		ROOT = {
			remove_opinion_modifier = { target = event_target:trade_target modifier = minor_sanctions }
		}
		event_target:trade_target = {
			remove_opinion_modifier = { target = event_target:trade_target modifier = relation_minor_sanctions }
			add_opinion_modifier = { target = event_target:trade_target modifier = relation_lifted_minor_sanctions }
		}
		hidden_effect = {
			event_target:trade_target = {
				country_event = { id = trade.6 }
			}
		}
	}

	option = {
		name = trade.5.sanctions
		trigger = { event_target:trade_target = { has_opinion_modifier = sanctions } }
		ROOT = {
			remove_opinion_modifier = { target = event_target:trade_target modifier = sanctions }
		}
		event_target:trade_target = {
			remove_opinion_modifier = { target = event_target:trade_target modifier = relation_sanctions }
			add_opinion_modifier = { target = event_target:trade_target modifier = relation_lifted_sanctions }
		}
		hidden_effect = {
			event_target:trade_target = {
				country_event = { id = trade.7 }
			}
		}
	}

	option = {
		name = trade.5.embargo
		trigger = { event_target:trade_target = { has_opinion_modifier = embargo } }
		ROOT = {
			remove_opinion_modifier = { target = event_target:trade_target modifier = embargo }
		}
		event_target:trade_target = {
			remove_opinion_modifier = { target = event_target:trade_target modifier = relation_embargo }
			add_opinion_modifier = { target = event_target:trade_target modifier = relation_lifted_embargo }
		}
		hidden_effect = {
			event_target:trade_target = {
				country_event = { id = trade.8 }
			}
		}
	}

	option = {
		name = trade.1.squo
	}
}

country_event = { #from has lifted light sanctions
	id = trade.6
	title = trade.6.title
	desc = trade.6.desc
	is_triggered_only = yes

	option = {
		name = trade.6.a	
	}
}

country_event = { #from has lifted sanctions
	id = trade.7
	title = trade.7.title
	desc = trade.7.desc
	is_triggered_only = yes

	option = {
		name = trade.7.a	
	}
}

country_event = { #from has lifted the embargo
	id = trade.8
	title = trade.8.title
	desc = trade.8.desc
	is_triggered_only = yes

	option = {
		name = trade.2.a	
	}
}

country_event = { #from has lifted the embargo
	id = trade.9
	title = trade.9.title
	desc = trade.9.desc
	is_triggered_only = yes

	option = {
		name = trade.2.a	
	}
}