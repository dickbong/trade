###########################
# Trade Events
###########################

add_namespace = embargo

country_event = { #embargo 
	id = embargo.1
	title = embargo.1.title
	desc = embargo.1.desc
	
	trigger = {
		any_country = {
			has_offensive_war = yes
			has_civil_war = no
		}
	}
	
	immediate = {
		random_country = {
			limit = {
				has_offensive_war = yes
				has_civil_war = no
			}
			save_event_target_as = agressor_target	
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = embargo.1.embargo
		add_opinion_modifier = { target = event_target:agressor_target modifier = embargo }	
		event_target:agressor_target = { add_opinion_modifier = { target = ROOT modifier = relation_embargo } }
		hidden_effect = {
			event_target:agressor_target = {
				country_event = { id = embargo.2 }
			}
			all_country = {
				limit = {
					has_defensive_war_with = { tag = event_target:agressor_target }
				}
				save_event_target_as = defender_target
			}
		}
	}
	
	option = {
		name = embargo.1.squo
	}
}

country_event = { #from has lifted light sanctions
	id = embargo.2
	title = embargo.2.title
	desc = embargo.2.desc
	is_triggered_only = yes

	option = {
		name = embargo.2.peace	
		white_peace = defender_target
		add_political_power = 10
	}
	
	option = {
		name = embargo.2.fukoff
		add_political_power = -10	
	}
}

country_event = { #please lift the embargo
	id = embargo.3
	title = embargo.3.title
	desc = embargo.3.desc

	trigger = {
		any_country = { has_opinion_modifier = embargo }
		has_offensive_war = no
	}
	
	mean_time_to_happen = {
		days = 31
	}
	
	immediate = {
		any_country = { has_opinion_modifier = embargo }
	}

	option = {
		name = embargo.3.please
		country_event = { id = embargo.4 }
	}
	
	option = { 
		name = embargo.3.squo	
	}
}
	